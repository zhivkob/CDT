<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CDT: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CDT
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">C++ library for constrained Delaunay triangulation (CDT)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CDT Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="./images/CDT_logo.png" alt="CDT Logo" height="120" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md0"></a>
CDT: Constrained Delaunay Triangulation</h1>
<p><a href="https://github.com/artem-ogre/CDT/actions/"><object type="image/svg+xml" data="https://github.com/artem-ogre/CDT/workflows/CI%20Builds/badge.svg" style="pointer-events: none;">CI Builds</object></a></p>
<p>Numerically robust C++ implementation of constrained Delaunay triangulation (<a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a>)</p><ul>
<li>uses robust geometric predicates for numerical robustness</li>
<li>can be consumed as header-only (default) or compiled (if <code>CDT_USE_AS_COMPILED_LIBRARY</code> is defined)</li>
<li>permissively-licensed (MPL-2.0)</li>
<li>backwards-compatible with C++03</li>
<li>cross-platform: tested on Windows, Linux (Ubuntu), and macOS</li>
</ul>
<p><b>Please ★ this repository if it helped. This means a lot to the authors :)</b></p>
<p><b>Table of Contents</b></p><ul>
<li><a href="#online-doc">Online Documentation</a></li>
<li><a href="#algorithm">Algorithm</a></li>
<li><a href="#details">Implementation Details</a></li>
<li><a href="#installation">Installation/Building</a></li>
<li><a href="#using">Using with Code Examples</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#example-gallery">Example Gallery</a></li>
<li><a href="#bibliography">Bibliography</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md1"></a>
&lt;a name="online-doc"/&gt;Online Documentation&lt;/a&gt;</h2>
<p><a href="https://artem-ogre.github.io/CDT/doxygen/index.html"><b>Latest online documentation</b></a> (automatically generated with Doxygen).</p>
<h2><a class="anchor" id="autotoc_md2"></a>
&lt;a name="algorithm"/&gt;Algorithm&lt;/a&gt;</h2>
<ul>
<li>Implementation closely follows incremental construction algorithm by Anglada [<a href="#1">1</a>].</li>
<li>During the legalization, the cases when at least one vertex belongs to super-triangle are resolved using an approach as described in Žalik et. al [<a href="#2">2</a>].</li>
<li>For finding a triangle that contains inserted point remembering randomized triangle walk is used [<a href="#3">3</a>]. To find the starting triangle for the walk the nearest point is found using a kd-tree with mid-split nodes.</li>
<li>By default inserted vertices are randomly shuffled internally to improve performance and avoid worst-case scenarios. The original vertices order can be optied-in using <code>VertexInsertionOrder::AsProvided</code> when constructing a triangulation.</li>
</ul>
<p><b>Pre-conditions:</b></p><ul>
<li>No duplicated points (use provided functions for removing duplicate points and re-mapping edges)</li>
<li>No two constraint edges intersect each other (overlapping boundaries are allowed)</li>
</ul>
<p><b>Post-conditions:</b></p><ul>
<li>Triangles have counter-clockwise (CCW) winding</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
&lt;a name="details"/&gt;Implementation Details&lt;/a&gt;</h2>
<ul>
<li>Supports three ways of removing outer triangles:<ul>
<li><code>eraseSuperTriangle</code>: produce a convex-hull</li>
<li><code>eraseOuterTriangles</code>: remove all outer triangles until a boundary defined by constraint edges</li>
<li><code>eraseOuterTrianglesAndHoles</code>: remove outer triangles and automatically detected holes. Starts from super-triangle and traverses triangles until outer boundary. Triangles outside outer boundary will be removed. Then traversal continues until next boundary. Triangles between two boundaries will be kept. Traversal to next boundary continues (this time removing triangles). Stops when all triangles are traversed.</li>
</ul>
</li>
<li>Supports <a href="#overlapping-boundaries-example">overlapping boundaries</a></li>
<li>Removing duplicate points and re-mapping constraint edges can be done using functions: <code>RemoveDuplicatesAndRemapEdges, RemoveDuplicates, RemapEdges</code></li>
<li>Uses William C. Lenthe's implementation of robust orientation and in-circle geometric predicates: <a href="https://github.com/wlenthe/GeometricPredicates">https://github.com/wlenthe/GeometricPredicates</a>.</li>
<li>Boost is an optional dependency used for:<ul>
<li><b>Fall back</b> for standard library features missing in C++98 compilers.</li>
<li><b>Minor performance tweaks:</b> <code>boost::container::flat_set</code> is used for faster triangle walking</li>
</ul>
</li>
</ul>
<pre class="fragment">To opt in define `CDT_USE_BOOST` either in CMake or in a preprocessor.
</pre><ul>
<li>A demonstrator tool is included: requires Qt for GUI. When running demo-tool <b>make sure</b> that working directory contains files from 'data' folder.</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
&lt;a name="installation"/&gt;Installation/Building&lt;/a&gt;</h2>
<p><a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a> uses modern CMake and should <em>just work</em> out of the box without any suprises. The are many ways to consume <a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a>:</p><ul>
<li>copy headers and use as a header-only library</li>
<li>add to CMake project directly with <code>add_subdirectory</code></li>
<li>pre-build and add to CMake project as a dependency with <code>find_package</code></li>
<li>consume as a Conan package</li>
</ul>
<p><b>CMake options</b></p>
<table class="doxtable">
</table>
<p>Option </p>
<p>Default value </p>
<p>Description  &lt;/thead&gt; &lt;tbody&gt; </p>
<p><b>CDT_USE_BOOST</b> </p>
<p>OFF </p>
<p>If enabled Boost is used as a fall-back for features missing in C++98 and performance tweaks (e.g., using boost::flat_set)   </p>
<p><b>CDT_USE_64_BIT_INDEX_TYPE</b> </p>
<p>OFF </p>
<p>If enabled 64bits are used to store vertex/triangle index types. Otherwise 32bits are used (up to 4.2bn items)   </p>
<p><b>CDT_USE_AS_COMPILED_LIBRARY</b> </p>
<p>OFF </p>
<p>If enabled templates for float and double will be instantiated and compiled into a library   &lt;/tbody&gt; </p>
<p><b>Adding to CMake project directly</b></p>
<p>Can be done with <a href="https://cmake.org/cmake/help/latest/command/add_subdirectory.html"><code>add_subdirectory</code></a> command (e.g., see <a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a> visualizer's CMakeLists.txt). </p><div class="fragment"><div class="line"># add CDT as subdirectory to CMake project</div>
<div class="line">add_subdirectory(../CDT CDT)</div>
</div><!-- fragment --><p><b>Adding to non-CMake project directly</b></p>
<p>To use as <b>header-only</b> copy headers from <code>CDT/include</code></p>
<p>To use as a <b>compiled library</b> define <code>CDT_USE_AS_COMPILED_LIBRARY</code> and compile <code><a class="el" href="CDT_8cpp.html">CDT.cpp</a></code></p>
<p>**Consume pre-build <a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a> in CMake project with <a href="https://cmake.org/cmake/help/latest/command/find_package.html"><code>find_package</code></a>**</p>
<p><a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a> provides package config files that can be included by other projects to find and use it.</p>
<div class="fragment"><div class="line"># from CDT folder</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line"># configure with desired CMake flags</div>
<div class="line">cmake -DCDT_USE_AS_COMPILED_LIBRARY=ON -DCDT_USE_BOOST=ON ..</div>
<div class="line"># build and install</div>
<div class="line">cmake --build . &amp;&amp; cmake --install .</div>
</div><!-- fragment --><div class="fragment"><div class="line"># In consuming CMakeLists.txt</div>
<div class="line">find_package(CDT REQUIRED CONFIG)</div>
</div><!-- fragment --><p><b>Consume as <a href="https://conan.io/">Conan</a> package</b></p>
<p>There's a <code>conanfile.py</code> recipe provided. Note that it might need small adjustments like changing boost version to fit your needs.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
&lt;a name="using"/&gt;Using&lt;/a&gt;</h2>
<p>Public API is provided in two places:</p><ul>
<li><a href="https://artem-ogre.github.io/CDT/doxygen/classCDT_1_1Triangulation.html"><code>CDT::Triangulation</code></a> class is used for performing constrained Delaunay triangulations.</li>
<li>Free functions in <a href="https://artem-ogre.github.io/CDT/doxygen/CDT_8h.html"><code>CDT.h</code></a> provide some additional functionality for removing duplicates, re-mapping edges and triangle depth-peeling</li>
</ul>
<h3><a class="anchor" id="autotoc_md6"></a>
Code Examples</h3>
<p><b>Triangulation with constrained boundaries</b></p>
<p><img src="./images/A.png" alt="Example of a triangulation with constrained boundaries and auto-detected holes" height="150" class="inline"/></p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">// ... same as above</div>
<div class="line">cdt.insertVertices(/* points */);</div>
<div class="line">cdt.insertEdges(/* boundary edges */);</div>
<div class="line">cdt.eraseOuterTrianglesAndHoles();</div>
<div class="line">/* access triangles */ = cdt.triangles;</div>
<div class="line">/* access vertices */ = cdt.vertices;</div>
<div class="line">/* access boundary edges */ = cdt.edges;</div>
</div><!-- fragment --><p><b>Triangulated convex-hull</b></p>
<p><img src="./images/LakeSuperior.png" alt="Example of a triangulated convex hull" height="150" class="inline"/></p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">#include &quot;CDT.h&quot;</div>
<div class="line">CDT::Triangulation&lt;double&gt; cdt;</div>
<div class="line">cdt.insertVertices(/* points */);</div>
<div class="line">cdt.eraseSuperTriangle();</div>
<div class="line">/* access triangles */ = cdt.triangles;</div>
<div class="line">/* access vertices */ = cdt.vertices;</div>
<div class="line">/* access boundary edges */ = cdt.edges;</div>
</div><!-- fragment --><p><b>Custom point/edge type</b></p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">struct CustomPoint2D</div>
<div class="line">{</div>
<div class="line">    double data[2];</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">struct CustomEdge</div>
<div class="line">{</div>
<div class="line">    std::pair&lt;std::size_t, std::size_t&gt; vertices;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">// containers other than std::vector will work too</div>
<div class="line">std::vector&lt;CustomPoint2D&gt; points = /*...*/; </div>
<div class="line">std::vector&lt;CustomEdge&gt; edges = /*...*/;</div>
<div class="line">CDT::Triangulation&lt;double&gt; cdt;</div>
<div class="line">cdt.insertVertices(</div>
<div class="line">    points.begin(),</div>
<div class="line">    points.end(),</div>
<div class="line">    [](const CustomPoint2D&amp; p){ return p.data[0]; },</div>
<div class="line">    [](const CustomPoint2D&amp; p){ return p.data[1]; }</div>
<div class="line">);</div>
<div class="line">cdt.insertEdges(</div>
<div class="line">    edges.begin(),</div>
<div class="line">    edges.end(),</div>
<div class="line">    [](const CustomEdge&amp; e){ return e.vertices.first; },</div>
<div class="line">    [](const CustomEdge&amp; e){ return e.vertices.second; }</div>
<div class="line">);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
&lt;a name="contributors"/&gt;Contributors&lt;/a&gt;</h2>
<ul>
<li><a href="https://github.com/artem-ogre">Artem Amirkhanov</a></li>
<li><a href="https://github.com/kalleakerblom">Karl Åkerblom</a></li>
<li><a href="https://github.com/baiwenlei">baiwenlei</a>: dragging and zooming in the viewer</li>
<li><a href="https://github.com/eisbaerli">Bärbel Holm</a>: removing duplicates and re-mapping edges</li>
<li><a href="https://github.com/AndreFecteau">Andre Fecteau</a>: benchmarking, profiling, and providing a kd-tree implementation a derivative of which is included in <a class="el" href="namespaceCDT.html" title="Doxygen suppression.">CDT</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
&lt;a name="contributing"/&gt;Contributing&lt;/a&gt;</h2>
<p>Any feedback and contributions are welcome.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
&lt;a name="license"/&gt;License&lt;/a&gt;</h2>
<p><a href="https://www.mozilla.org/en-US/MPL/2.0/FAQ/">Mozilla Public License, v. 2.0</a></p>
<h2><a class="anchor" id="autotoc_md10"></a>
&lt;a name="example-gallery"/&gt;Example Gallery&lt;/a&gt;</h2>
<p><img src="./images/A.png" alt="A" height="200" class="inline"/> <img src="./images/Bean.png" alt="Bean" height="200" class="inline"/> <img src="./images/Guitar.png" alt="Guitar" height="200" class="inline"/> <img src="./images/Guitar_no_holes.png" alt="Guitar with holes" height="200" class="inline"/> <img src="./images/LakeSuperior.png" alt="Lake Superior" height="200" class="inline"/> <img src="./images/Sweden.png" alt="Sweden" height="200" class="inline"/> <a class="anchor" id="overlapping-boundaries-example"></a><img src="./images/Overlapping_boundaries.png" alt="Overlapping boundaries" height="200" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md11"></a>
&lt;a name="bibliography"/&gt;Bibliography&lt;/a&gt;</h2>
<p><a class="anchor" id="1"></a>[1] Marc Vigo Anglada, An improved incremental algorithm for constructing restricted Delaunay triangulations, <em>Computers &amp; Graphics</em>, Volume 21, Issue 2, 1997, Pages 215-223, ISSN 0097-8493.</p>
<p><a class="anchor" id="2"></a>[2] Borut Žalik and Ivana Kolingerová, An incremental construction algorithm for Delaunay triangulation using the nearest-point paradigm, <em>International Journal of Geographical Information Science</em>, Volume 17, Issue 2, Pages 119-138, 2003, DOI 10.1080/713811749.</p>
<p><a class="anchor" id="3"></a>[3] Olivier Devillers, Sylvvain Pion, Monique Tellaud, Walking in a triangulation, <em>International Journal of Foundations of Computer Science</em>, Volume 13, Issue 2, Pages 181-199, 2002 </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
